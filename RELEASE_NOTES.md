# Release Notes

## v1.2.0 - 2025-06-15

### 🚀 Major Performance & Search Enhancements

**Game-Changing Performance Improvement: Git-Based Fetching**
- Replaced individual HTTP requests with fast `git clone` approach
- **10x faster generation**: From minutes to seconds (~3s for 1600+ icons)
- More reliable and efficient icon fetching

**Powerful Runtime Search & Filter System**
- **Rich metadata integration**: Fetches tags, categories, and contributors from Lucide's JSON files
- **Intelligent search**: Relevance-based results with exact, tag, category, and partial matching
- **Component slices**: Get search results as ready-to-use `[]templ.Component`
- **Advanced filtering**: Search by categories, tags, relevance scores, and limits

### ✨ New Features

**Search Functionality (`-search` flag)**
```go
// Create search instance
search := NewIconSearch()

// Incremental search with relevance scoring
results := search.Search("arrow") // Returns SearchResult with relevance

// Get results as ready-to-render components
icons := search.GetSearchResultIcons("user", attrs)

// Category and tag-based access
navIcons := search.GetCategoryIcons("navigation", attrs)
searchIcons := search.GetTagIcons("magnifying", attrs)

// Advanced filtering
results := search.SearchWithOptions("user", SearchOptions{
    Categories: []string{"social", "ui"},
    MaxResults: 10,
    MinRelevance: 50,
})
```

**Rich Metadata Support**
- Icon tags from Lucide (e.g., "forward", "next", "direction", "east")
- Official Lucide categories (e.g., "arrows", "navigation", "text")
- Contributor information
- Fallback to custom categorization system

**Performance Optimizations**
- Optional search functionality (only adds overhead when requested)
- Precomputed search indexes for fast lookups
- Git shallow clone for minimal network overhead
- Efficient local file processing

### 🎯 Perfect for Icon Picker UIs

The search system is designed for building dynamic icon picker interfaces:

```templ
templ IconPicker(searchQuery string) {
    if search := NewIconSearch() {
        for _, icon := range search.GetSearchResultIcons(searchQuery, templ.Attributes{"class": "w-6 h-6"}) {
            <div class="icon-item" onclick="selectIcon()">
                @icon
            </div>
        }
    }
}
```

### 📁 File Structure

**Basic Generation (default):**
- `icons.templ` - Individual icon components
- `registry.templ` - Type-safe IconName constants
- `categories.templ` - Category helpers

**With Search (`-search` flag):**
- All basic files PLUS
- `search.templ` - Complete search/filter system with metadata

### 🔄 CLI Updates

```bash
# Fast basic generation (no metadata)
lucide-gen -output ./icons -package icons -categories "navigation,actions"

# With full search capabilities (includes metadata)
lucide-gen -output ./icons -package icons -categories "navigation,actions" -search

# All icons with search (perfect for icon pickers)
lucide-gen -output ./icons -package icons -search
```

### 🐛 Bug Fixes

- Fixed template compilation issues with missing function definitions
- Improved error handling for missing metadata files
- Better Git dependency validation and error messages

---

## v1.1.0 - 2025-06-15

### 🎉 Major Improvements

**Breaking Change: Now generates `.templ` files instead of `_templ.go` files**

This version introduces a cleaner, more standard approach to Templ component generation that follows established conventions.

### ✨ New Features

- **Standard Templ Workflow**: Now generates `.templ` source files that work with the standard `templ generate` command
- **Cleaner File Structure**: Generated files follow Templ naming conventions
- **Better GitIgnore Support**: `*_templ.go` files can now be properly gitignored as they are generated artifacts

### 📁 File Output Changes

**Before (v1.0.x):**
```
output/
├── icons_templ.go     # Direct Go code generation
├── registry_templ.go  # Direct Go code generation  
└── categories_templ.go # Direct Go code generation
```

**After (v1.1.0):**
```
output/
├── icons.templ        # Templ source files
├── registry.templ     # Templ source files
├── categories.templ   # Templ source files
├── icons_templ.go     # Generated by `templ generate` (can be gitignored)
├── registry_templ.go  # Generated by `templ generate` (can be gitignored)
└── categories_templ.go # Generated by `templ generate` (can be gitignored)
```

### 🔄 Migration Guide

If you're upgrading from v1.0.x:

1. **Update your build process** to include `templ generate` after running `lucide-gen`
2. **Update your .gitignore** to exclude `*_templ.go` files if desired
3. **Clean up old files** - remove any existing `*_templ.go` files generated by v1.0.x

**Example updated workflow:**
```bash
# Old workflow (v1.0.x)
lucide-gen -output ./icons -package icons

# New workflow (v1.1.0)
lucide-gen -output ./icons -package icons
templ generate ./icons/
```

### 🏗️ Integration Example

Perfect for Taskfile.yml integration:
```yaml
icons:generate:
  desc: Generate Lucide icon components
  cmds:
    - mkdir -p web/templates/icons
    - lucide-gen -output web/templates/icons -package icons -categories "navigation,actions,ui"
    - templ generate web/templates/icons/
```

### 🐛 Bug Fixes

- Fixed template formatting for better readability
- Improved error handling during file generation

### 📚 Documentation

- Updated README with new workflow examples
- Added migration guide for v1.0.x users
- Enhanced integration examples

---

## v1.0.0 - 2025-06-15

### 🎉 Initial Release

- Type-safe Templ component generation for Lucide Icons
- Category-based icon organization
- CLI tool with comprehensive options
- GitHub Actions CI/CD pipeline
- Cross-platform binary releases